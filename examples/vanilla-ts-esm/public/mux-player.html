<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <title>Basic &lt;mux-player/&gt; example</title>
    <script type="module" src="./dist/mux-player.js"></script>
    <style>
    </style>
  </head>
  <body>
    <!-- Test attributes
      style="aspect-ratio: 16 / 10"
      primary-color="#5c6ac4"
      secondary-color="#ecc94b"
      playback-id="xLGf7y8cRquv7QXoDB02zEe6centwKfVmUOiPSY02JhCE"
      poster="https://image.mux.com/xLGf7y8cRquv7QXoDB02zEe6centwKfVmUOiPSY02JhCE/thumbnail.jpg?time=0"
      src="https://stream.mux.com/r4rOE02cc95tbe3I00302nlrHfT023Q3IedFJW029w018KxZA.m3u8"
      muted
      volume="0.4"
      playbackrate="2"
      forward-seek-offset="10"
      backward-seek-offset="10"
     -->
     <div>
       <mux-player
         id="media"
         stream-type="on-demand"
         muted
       ></mux-player>
     </div>
     <div>
       <label for="playbackIdInput">Playback Id</label>
       <input id="playbackIdInput" type="text"/>
       <label for="widthInput">Width</label>
       <input id="widthInput" type="text"/>
       <label for="heightInput">Height</label>
       <input id="heightInput" type="text"/>
     </div>

    <script>
      const params = new URLSearchParams(window.location.search);
      const mediaEl = document.querySelector('#media');

      const playbackIdInput = document.querySelector('#playbackIdInput');
      playbackIdInput.addEventListener('change', () => {
        if (mediaEl.getAttribute('playback-id') !== playbackIdInput.value) {
          mediaEl.setAttribute('playback-id', playbackIdInput.value);
        }
      });
      if (params.has('playback-id')) {
        playbackIdInput.value = params.get('playback-id');
        if (mediaEl.getAttribute('playback-id') !== playbackIdInput.value) {
          mediaEl.setAttribute('playback-id', playbackIdInput.value);
        }
      }

      const widthInput = document.querySelector('#widthInput');
      widthInput.addEventListener('change', () => {
        if (mediaEl.style.width !== widthInput.value) {
          mediaEl.style.width = widthInput.value;
        }
      });
      if (params.has('width')) {
        widthInput.value = params.get('width');
        if (mediaEl.style.width !== widthInput.value) {
          mediaEl.style.width = widthInput.value;
        }
      }

      const heightInput = document.querySelector('#heightInput');
      heightInput.addEventListener('change', () => {
        if (mediaEl.style.height !== heightInput.value) {
          mediaEl.style.height = heightInput.value;
        }
      });

      if (params.has('height')) {
        heightInput.value = params.get('height');
        if (mediaEl.style.height !== heightInput.value) {
          mediaEl.style.height = heightInput.value;
        }
      }
      
    </script>

    <a href="../">Browse Elements</a>
  </body>
</html>
