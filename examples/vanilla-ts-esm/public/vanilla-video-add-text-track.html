<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <title>Basic &lt;mux-video/&gt; example</title>
  </head>
  <body>
    <!-- <video
      id="main-video"
      style="height: 100%; max-width: 100%"
      src="./tears_of_steel_720p.mp4"
      crossorigin=""
      controls
      muted
    >
      <track
        default
        id="main-track"
        label="English"
        kind="captions"
        srclang="en"
        src="./tears_of_steal.vtt"
      />
    </video> -->
      <video id="vtt-src-video">
        <track
          default
          id="vtt-src"
          label="English"
          kind="captions"
          srclang="en"
          src="./tears_of_steal.vtt"
        />
      </video>
    <!-- <a href="../">Browse Elements</a> -->
    <script>
      const videoEl = document.createElement('video');
      videoEl.setAttribute("style", "height: 100%; max-width: 100%");
      videoEl.setAttribute("src", "https://stream.mux.com/qP5Eb2cj7MrNnoxBGz012pbZkMHqpIcrKMzd7ykGr01gM/low.mp4");
      videoEl.setAttribute("crossorigin", "");
      videoEl.setAttribute("controls", "");
      videoEl.setAttribute("muted", "");
      const track = videoEl.addTextTrack("captions", "English", "en");
      track.mode = "showing";
      track.addEventListener('cuechange', () => {
        console.log(
          'activeCues',
          ...Array.prototype.slice.call(track.activeCues)
        );
      });
      const vttSrcTrackEl = document.querySelector('track#vtt-src');

      vttSrcTrackEl.addEventListener('load', () => {
        const srcTrack = vttSrcTrackEl.track;
        Array.prototype.forEach.call(srcTrack.cues, (cue) => {
          track.addCue(cue);
        });
      });
        // videoEl.appendChild(trackEl);
        document.querySelector("body").appendChild(videoEl);
    </script>
  </body>
</html>
